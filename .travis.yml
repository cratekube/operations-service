language: bash

services:
- docker

script: "./ci/docker_build.sh"

deploy:
- provider: script
  skip_cleanup: true
  script: "./ci/publish_latest.sh"
  on:
    tags: false
    branch: master
- provider: script
  skip_cleanup: true
  script: "./ci/publish_tag.sh"
  on:
    tags: true

env:
  global:
  - secure: rHYiBSZ0bKshVTqeoJ9IIDsV9v1hb8wmsJbw8Jrj9Z3DeGBoqa5xWPy8PSWnVbOA68xPN8B8a+YH846BnyDI+KOg/oKwovfGUEhGdi9JM3vfAEWgJSaWbbz0XCXI1O2mVDqxoC3LqQ2bBrr+45g8j7VCdjjrzJvwFPJ66WsTO1xVT+1dcfMXruZUL6ZJiBA8IfcMBWANoAzKrVYnouO/sT8FC+eSPW4tT8J5TdWVJ92Lz/NzgETHiCub17gBWWUMDFbavVq1BlrMfzq8iiLKNRERG3AjBY+9eBbL97Q5X/Q8ewMMOYScE7X3u+/KR9p5xYsLZYfabQgV0Q0DX3AjUqy6eU+ZVjybErhVj6fsEbGmgN6cVVKYFclKzMIi8M9sZTHHm5aEZGrT2cPHMRSrk3n7Hn1Wb3mRdYxU/NC698xHSXOtBA/IpM+WWNzkkOI+JfzeULdB+ENGEdF4EXNh7/pCu/0II3lktoSYzNKTlLcci687AhIYx47IJ2Vv6gDTtqBrtMHJr/nKLnz3i1em/sw6SJDgWNh3K+ebKLR2O8wIlZAbIGxX3hbeiZy8H3JZBgzkkMpzsDmCLTPd1kFq2StECcdxSieN4wolITwfS57MJ8pxddXHYCaoXyEjdEwbe4jD/I4yQxh0V/9MlTSaxHOy6kGFUPez/yBpkmm3078=
  - secure: zZS0OOtPCYZFHzofuvAK424y97ooK9qrEcMyDdqHLMoBW/IYyVL14DDckckAqKatIHQYRdVpm/1eJCCfmy4VYCoHtDd12X6rMfWyc+2JZxdhaqw+9zjsact4HT28VU0t10rcfriiqXBLjoXxP3BRRAOpoNn1KDnj4kNPP4avbyU8SWwWwYZpOBpitPG+ckaoiX3aqnXGIhC9A7O/h4Gtg6AFP/sI7RXKDVr8necEjXZkC4WyhKwRu1001H0OUW1yXU4GG2IlwB8nrdRwx3/Bn2UNEmE8nYMz+I32R2MEhmEh1GsP+4NgQwx7+ruWFkmgO33KX7cU/h6JnpQYeREBfb5vXyH/deQuKcyHMOyRqKv0ZcsC3WsaHpmOM4SJz0BQX8yKJFJH1q/FNv8B2dbmGpfBAgMsRHWFWoqATj4Ft0ALhIk3wwxfJ03uzS00/xe7L3T31UwoQQJ78QUGD/nOy2BDV6hy9iQue2Zlu6p3TUg8vF+8qoFNL4SIsvIB617T9cLaSyHPbXDVC6ka8QgPiXs0F6jTFcfnEsgep8oPrtj0/5zceeH1qWvDaC/z6vDd7bNc+kzWI2qGtemZ5M5gixxjiOGKkG9bYG/VcgsDrI6J3Wrck3YS8sqo11+/6ORvxuMZc4qE9H+zGOHlyidycsrUo/RiYCOImVovwDpWSqQ=
  - secure: l0jfWV+MJxJ3rZ9j9dmpttqi/EPNMa491vTjh0rva+J18qVNtk4SMtL4vJ8jPe2U1rL6W6V1AZElKc2zFpruhgDgH9Rb2RpKfy67UeTCX/+n34DOdB0JZe7JhgikjLDy0eHTux/jty+uEpDaP4HD7OClOy9yv5p5jB1Aeik2sfaX/2LJncpGBE8cdAMiY7ewzJlTo4YSUeDuVKZODxv84v0nXEYCzNgoDcgF9HM5dMgGW7WZyzh4Cms23NolmJdfKO7p4j56DAS6F4gRk10Iw8uQ/1pBHjHifI9Y8xnBYtcyvPRCU6Q7U0r+dIurOfZkhvy5t6oXWmG/+Jm0AKGkWaS8xNo7qRqZH7D3ewWuCBRdw8P01Rt8OJel/m6cmHrRfPKnRw2OedzDCcfeRoe9uhu95u/R6fnd0SqXXOQX1Y0n2T5qYb4uu18A0VH8AqMPAaIXV19or6ndiH75CRfJiPaJm24I41W8E8A/VE+W+6B/ObsNQ9XPWpWx0MGi+l29SKecg8uoBqJvciRRMoN20S9Sq/2Z0xPCJNsMtE4R2yEIIMn6p5mbsKfYbUgBxajbCKJiB0ehrhbwx8SRoVhiv/Ozz9gvKjaTAjqp7kMHoCEjt92YxfRul45qoPbpldiqjgiZXww+WcsbIZtx19/A5RH9IyBJMfGhZ7sL7mm0rMk=
  - secure: Iie8QNzad3/qyRdpUW9fKRl6UamfNP+sEYDdsCTVdt1cHuxi+VyQJtv46gaqL6zeZt+lynKC5CuvIL1QNDfrgvGqsyXHj97j7CiziD/ijCjRpz6egxYTVfMbRXD6a96PlqK8qZuQAAU9QJH8a/43b1s5JJYqTieNB51FdzukWF68+bA8xjvgj8cRL90kcwamU6j3V8qeCGWYXj1LmI4vnFTASjhZwGzj6PzWenCfW7GkPcTnH2K+mrqvMPOEVan6yCl8Unh7A6QPCz+FxxuT9+x2HKK3molyOV102eWcO30JbV8E+zLq+jolWI4rm0rSirh9PIA1Mc7AcHAfbjyxxXIhMG8N39VGZvwpzVG9pySH10KiG2fC1AOFtjqqW2pOOu7HpPeEzLmRxEI/jHWV68Ki4DojYFjzVCMSrqVLWRfIo/gqbrKJxaGiDHqdHN3YzNxLpkBq1YuVbgwrHCeB0+1yIL9E5eyLPoLKC6OoZWQxHX208O6Xj7TtAEkrJrTdY9jWeiIL1Gh3cFlP8uGDLbhVPoQGqBVVd68VxxoRjCXFzAps1NaGWiMpgqlRrGyzqxhOdOX16Wu4ouMK/7SyjZfJQCIEfAebACLwbz5TBcgPTUwGCBPzmVRTlcyry6K+nNhrOiWVrF6qyBnhehJLzsnPFwxvJQTDq2qf+Vt5wBM=
  - secure: tOyjyliw6cH+aknTwHGBCTFDWRzveOsx7gA5LspVnEHUDP2IsjbMc3EU5vNlsx1xZEdzcvzg2A3iRYr4cv8cnUkPgcM8TepbH+OfCwODcVLNMTY1EF8EpmPr+YVpDrZXfe29Rfa0PvI0lLyml03OrQnsVpfq6Y034ODxL+x344FA3BDnF35OGkE6ElLDS3VVZMiQkqecGSi5+p8nz3w/48sTQkIQO/F54tVT5WK45zUhgo1FHkPL+F4uZIx65AwSe51gBePu23qBsyfjiK7qhGrv/qnx23SgnXVFwJ6XCyg+2jVJyDl+jrPJFRPDjbvAu1fg/3S0U7MFlwiBJQelDlkL64qqDGe7etyU0jS0hv+Puidu9QonEvqHx6qXB8xX8/ltdKQlgoDUX/HTX7o805dO6klcjBojslpJmFXxJMdoUpIAvyXa/3SxrVLG7yEC6rD5jrIqQl+gLzZpcQgnWv3Zwa+w8kt1vwNsQA54aDyPxJvUBOuSFMwu2CeV8Do6FlCvnSO4yKxaNo1WpcJoNzdRtxokwDh2N8L/jh29Z+P7hTDEWNl1kbe2wLpxRp8LOeO86OFt9Us5ETyT/4ltMEo0fH1hzseQKiaRJqPK3pdmx2zJp7vTbHS2MVMIMUGpthtn7nSaS2jII2mILkxh9whM/pIWX3sZmXMO977sQsM=
  - secure: 2GWrQl/3tcKDDrpLUYw9aZv1xvfFT7+ELu0cDWFmv1Ddm/LlLgnt4TfJ2/aZuiLGMBxV+nPXjkE8/3R/mk7RyybPUV21QFBrAKaQAsdlK9uJLaAnFGwGHFemHHSgUiqvhTV1//1DLvHm0+yRGa3rkCX5eHjeVnwXWUGAVk9SGQxJKO4uwnUsMkG1grMU/UioxRaYuKRMjhC1N8qFiSalL5mrwcRNu0+bLGHS47BwbFW9opauIZ1a8aQ0jhK0VibkGzRR6MIFKayT2S9na3nFSk6pacSqgApicqtQTWFQIpnjeRfxo08/zU9knE5NrhHKlk/7ogdRNcD7FvIDjLZECQ4lhVf05CzdOGQ+OBmyi9qczycVuQCWaX1SxEdQizuq7dmfqggdmDHSheguQRlY1XrXIA805z3UerJyiq/thfcdqjQmLEyGfW+gEUjhD9YU375kBxtp6tlG26B+xynmc76qSedZy5MJJmR0wrOovgwN/Z/f0gMv099CYXBZ1y/hstgKbrkHwaWUNn7VviGnGhCnvhmoqqauawgAhsbK3zjnEyVS/KNVaGfQw/6tLnsxPKwqIwFpn0tOo9VN44ZHeyiAFwNaQmvY34gEr6S4vdRhze4wWoXZswXVQUW5iRU74aR2omWn+oEI/qEWPZHfcu9vLqSGBkVv/1dXzTOQHK0=
